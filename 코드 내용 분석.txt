---------------------------------------------------------------
https://docs.streamlit.io/develop/api-reference/text/st.title
https://docs.streamlit.io/develop/api-reference/caching-and-state/st.session_state
https://docs.streamlit.io/develop/api-reference/status/st.status
https://docs.streamlit.io/develop/api-reference/chat/st.chat_message
https://docs.streamlit.io/develop/api-reference/write-magic/st.write
https://docs.streamlit.io/develop/api-reference/chat/st.chat_input
https://docs.streamlit.io/develop/api-reference/status/st.error
---------------------------------------------------------------
streamlit.title   =>   Display text for title. (ì±„íŒ…ì°½ì— Streamlit íƒ€ì´í‹€ í‘œì‹œ)
streamlit.session_state   =>   Store and persist session state + Share variables between reruns for each user session (ë‚´ë¶€ì ìœ¼ë¡œ Streamlit ì„¸ì…˜ ìƒíƒœ ì €ì¥/ê´€ë¦¬)
streamlit.status (with streamlit.status í˜•íƒœë¡œ ì‚¬ìš©)   =>   Insert a status container to display output from long-running tasks. (ì±„íŒ…ì°½ì— ìƒíƒœ ë©”ì‹œì§€/ì§„í–‰ ìƒí™© í‘œì‹œ)
streamlit.chat_message   =>   Insert a chat message container. (ì±„íŒ…ì°½ì— ë§í’ì„  ì¶œë ¥)
streamlit.write   =>   Displays arguments in the app. (ì±„íŒ…ì°½ì˜ ë§í’ì„  ì•ˆì—, ì‹¤ì œ ë‚´ìš©ì„ ì¨ì„œ ì¶œë ¥)
streamlit.chat_input   =>   Display a chat input widget. (ì±„íŒ…ì°½ì—ì„œ ì‚¬ìš©ì Input ë°›ê¸°)
streamlit.error   =>   Display error message. (ì±„íŒ…ì°½ì— ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ)
---------------------------------------------------------------
streamlit.title()

streamlit.session_state[" "] = [{" " : " ", " " : " "}]
streamlit.session_state.messages
streamlit.session_state.messages.append()

streamlit.chat_message("").write("")

streamlit.chat_input()
---------------------------------------------------------------
streamlit.title("Azure OpenAI ì±—ë´‡ ì„œë¹„ìŠ¤")

streamlit.session_state["messages"] = [{"role": "assistant", "content": "ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?"}]
streamlit.session_state.messages
streamlit.session_state.messages.append({"role": "user", "content": prompt})

streamlit.chat_message(msg["role"]).write(msg["content"])
streamlit.chat_message("user").write(prompt)

streamlit.chat_input()
---------------------------------------------------------------


app.py
---------------------------------------------------------------------------------------------------------
import os
import streamlit
from dotenv import load_dotenv
from langchain_openai import AzureChatOpenAI

# .env íŒŒì¼ ë¡œë“œ
load_dotenv()

# í™˜ê²½ ë³€ìˆ˜ ì½ê¸°
AZURE_OPENAI_ENDPOINT = os.getenv("AZURE_OPENAI_ENDPOINT")
AZURE_OPENAI_API_KEY = os.getenv("AZURE_OPENAI_API_KEY")
AZURE_OPENAI_VERSION = os.getenv("AZURE_OPENAI_VERSION")
AZURE_OPENAI_MODEL = os.getenv("AZURE_OPENAI_MODEL")
AZURE_OPENAI_TEMPERATURE = os.getenv("AZURE_OPENAI_TEMPERATURE")

streamlit.title("ğŸ’¬ Azure OpenAI ì±—ë´‡ ì„œë¹„ìŠ¤")

# Streamlit ìµœì´ˆ í™”ë©´ ì¸ì‚¬ë§
if "messages" not in streamlit.session_state:
    streamlit.session_state["messages"] = [{"role": "assistant", "content": "ë¬´ì—‡ì„ ë„ì™€ë“œë¦´ê¹Œìš”?"}]

# ëŒ€í™” ê¸°ë¡ ì¶œë ¥
for msg in streamlit.session_state.messages:
    print(msg)
    streamlit.chat_message(msg["role"]).write(msg["content"])

# Azure OpenAI ëª¨ë¸ ì„ ì–¸
Azure_OpenAI = AzureChatOpenAI(
    azure_endpoint = AZURE_OPENAI_ENDPOINT,
    api_key = AZURE_OPENAI_API_KEY,
    api_version = AZURE_OPENAI_VERSION,
    deployment_name = AZURE_OPENAI_MODEL,
    temperature = AZURE_OPENAI_TEMPERATURE)

# ì‚¬ìš©ì ì…ë ¥ ì²˜ë¦¬
if prompt := streamlit.chat_input():
    print(prompt)
    streamlit.session_state.messages.append({"role": "user", "content": prompt})
    streamlit.chat_message("user").write(prompt)

    # Azure OpenAI í˜¸ì¶œ
    response = Azure_OpenAI.invoke(prompt)
    msg = response.content

    streamlit.session_state.messages.append({"role": "assistant", "content": msg})
    streamlit.chat_message("assitant").write(msg)
---------------------------------------------------------------------------------------------------------

















